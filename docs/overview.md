# 概要

## ReCoron APIとは

ReCoron APIは、Cron Jobの管理とAPIキーの管理を提供するRESTful APIです。

**Base URL:** `https://your-domain.com/api`

## レスポンス形式

すべてのAPIレスポンスは統一された形式で返されます。

### 成功レスポンス

```json
{
  "success": true,
  "message": "success",
  "data": { ... }
}
```

### エラーレスポンス

```json
{
  "success": false,
  "message": "エラーメッセージ",
  "data": null
}
```

## HTTPステータスコード

| ステータスコード | 説明 |
|----------------|------|
| `200` | 成功 |
| `201` | 作成成功 |
| `400` | バリデーションエラー |
| `401` | 認証エラー |
| `403` | 権限エラー |
| `404` | リソースが見つからない |
| `500` | サーバーエラー |

## プランと制限

ReCoronは使用量追跡システムにより、リソースの削除による制限回避を防止しています。

### プラン別制限

| プラン | ジョブ数 | 月間実行数 | 実行間隔 | API呼び出し | ログ保存 |
|--------|---------|-----------|---------|------------|---------|
| FREE | 5個 | 500回 | 30分 | 100回/日 | 3日 |
| HOBBY | 20個 | 10,000回 | 5分 | 500回/日 | 14日 |
| PRO | 100個 | 50,000回 | 1分 | 2,000回/日 | 30日 |

### 使用量追跡の仕組み

ReCoronは以下の3つのレベルで使用量を追跡します：

1. **月次使用量**: 削除されたリソースも含む総実行回数・API呼び出し回数
2. **日次使用量**: その日の実行回数・API呼び出し回数
3. **リソース履歴**: すべてのジョブ・APIキーの作成・削除を記録

詳細は **[Usage API (usage-api.md)](./usage-api.md)** をご覧ください。

### 制限回避の防止

- ジョブやAPIキーを削除しても使用量はリセットされません
- 今日の作成・削除活動の合計も制限されます
- すべての操作履歴が記録され、不正利用を検知できます

## サポート

質問や問題が発生した場合は、以下のチャンネルでサポートを受けることができます：

- GitHub Issues: https://github.com/Claft-Developers/ReCoron/issues
- Email: support@recoron.example.com

## 変更履歴

### v1.2.0 (2025-11-04)
- 🎉 **使用量追跡システム**を実装
  - 削除されたリソースも含む完全な使用履歴
  - 月次・日次使用量の追跡
  - リソース作成・削除履歴の記録
  - 制限回避の防止機能
- 新しいエンドポイント: `GET /api/usage`
- プラン制限の大幅な緩和（個人開発者向け）
- 料金を円表記に変更

### v1.1.0 (2025-11-04)
- レスポンス形式を統一 (`success`, `message`, `data` フィールド)
- バッチジョブ作成API (`POST /api/jobs/batch`) を追加
- エラーハンドリングの改善
- サンプルコードにエラーハンドリングを追加

### v1.0.0 (2025-11-04)
- 初回リリース
- Jobs API
- API Keys API
- 認証とスコープシステム
